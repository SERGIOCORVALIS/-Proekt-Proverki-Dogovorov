# Система Анализа Юридических Документов

MVP для автоматического анализа юридических документов с выявлением рисков и нестандартных формулировок.

## Технологический стек

- **Фронтенд**: Next.js + TypeScript + Tailwind CSS
- **Бэкенд**: FastAPI + Python
- **База данных**: PostgreSQL
- **ИИ/NLP**: Hugging Face Transformers + spaCy
- **Инфраструктура**: Docker

## Ключевые функции MVP

1. **Регистрация и Аутентификация** - создание аккаунта юриста
2. **Загрузка Документов** - поддержка .docx и .pdf форматов
3. **Анализ и Отчет** - автоматический анализ с подсветкой рисков
4. **Панель Управления** - список проанализированных документов

## Структура проекта

```
├── frontend/          # Next.js приложение
│   ├── app/          # App Router страницы
│   ├── components/   # React компоненты
│   ├── hooks/        # Custom hooks
│   ├── lib/          # Утилиты и API
│   └── types/        # TypeScript типы
├── backend/           # FastAPI сервер
│   ├── app/          # Основное приложение
│   │   ├── core/     # Конфигурация и безопасность
│   │   ├── models/   # SQLAlchemy модели
│   │   ├── schemas/  # Pydantic схемы
│   │   ├── routers/  # API роутеры
│   │   └── services/ # Бизнес-логика
│   └── requirements.txt
├── docker-compose.yml # Docker конфигурация
├── start_local.bat    # Локальный запуск (Windows)
├── mock_backend.py    # Mock backend для демонстрации
└── README.md
```

## Быстрый старт

### Вариант 1: Локальный запуск (рекомендуется для демонстрации)

1. Убедитесь, что установлены:
   - Python 3.11+
   - Node.js 18+

2. Запустите проект одной командой:
```bash
# Windows
start_local.bat
```

3. Откройте браузер: http://localhost:3000

4. Войдите с тестовыми данными:
   - Email: `test@example.com`
   - Пароль: `password123`

### Вариант 2: Запуск с Docker

1. Убедитесь, что Docker Desktop запущен

2. Запустите проект:
```bash
# Windows
start.bat

# Linux/Mac
./start.sh
```

### Вариант 3: Ручной запуск

#### 1. Клонирование и настройка

```bash
# Клонируйте репозиторий
git clone <repository-url>
cd legal-document-analyzer
```

#### 2. Запуск с Docker

```bash
# Запуск всех сервисов
docker-compose up -d

# Проверка статуса
docker-compose ps

# Просмотр логов
docker-compose logs -f
```

### 3. Запуск в режиме разработки

#### Бэкенд:
```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload
```

#### Фронтенд:
```bash
cd frontend
npm install
npm run dev
```

## Доступ к приложению

- **Фронтенд**: http://localhost:3000
- **Бэкенд API**: http://localhost:8000
- **API Документация**: http://localhost:8000/docs
- **База данных**: localhost:5432

## API Endpoints

### Аутентификация
- `POST /auth/register` - регистрация пользователя
- `POST /auth/login` - вход в систему
- `GET /auth/me` - информация о текущем пользователе

### Документы
- `POST /documents/upload` - загрузка документа
- `GET /documents` - список документов пользователя
- `GET /documents/{id}` - информация о документе
- `GET /documents/{id}/analysis` - результаты анализа документа

## Функциональность

### 1. Регистрация и Вход
- Создание аккаунта юриста
- JWT аутентификация
- Защищенные маршруты

### 2. Загрузка Документов
- Поддержка форматов: .docx, .pdf
- Максимальный размер: 10MB
- Drag & Drop интерфейс
- Валидация файлов

### 3. Анализ Документов
- Извлечение текста из документов
- Анализ на основе правил (playbook)
- Выявление рисков по уровням:
  - **Высокий риск**: Критические формулировки
  - **Средний риск**: Потенциальные проблемы
  - **Низкий риск**: Рекомендации по улучшению

### 4. Панель Управления
- Список всех документов
- Статусы обработки
- Статистика по рискам
- Детальный просмотр результатов

## Правила анализа (Playbook)

Система анализирует документы на основе встроенных правил:

### Высокие риски:
- Условия о невозврате средств
- Односторонний отказ от договора
- Высокие штрафы (>10%)
- Неограниченная ответственность

### Средние риски:
- Неопределенный срок договора
- Изменение условий без согласия
- Неограниченная конфиденциальность

### Низкие риски:
- Отсутствие форс-мажорных обстоятельств
- Одностороннее решение споров

## Разработка

### Структура бэкенда:
- `app/core/` - конфигурация, безопасность
- `app/models/` - SQLAlchemy модели БД
- `app/schemas/` - Pydantic схемы для валидации
- `app/routers/` - API endpoints
- `app/services/` - бизнес-логика

### Структура фронтенда:
- `app/` - страницы (App Router)
- `components/` - переиспользуемые компоненты
- `hooks/` - custom React hooks
- `lib/` - утилиты и API клиент
- `types/` - TypeScript типы

## Развертывание

### Production настройки:
1. Измените SECRET_KEY в .env
2. Настройте PostgreSQL для production
3. Используйте reverse proxy (nginx)
4. Настройте SSL сертификаты
5. Используйте Docker для контейнеризации

## Лицензия

MIT License

## Поддержка

Для вопросов и предложений создавайте Issues в репозитории.
